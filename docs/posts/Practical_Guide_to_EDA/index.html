<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jessie Zhang">
<meta name="dcterms.date" content="2025-01-15">

<title>A Practical Guide to EDA: Analyzing Vancouver’s Tree Heights – Jessie’s Blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../charging.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Jessie’s Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">A Practical Guide to EDA: Analyzing Vancouver’s Tree Heights</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Data Science</div>
                <div class="quarto-category">Analysis</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Jessie Zhang </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 15, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><strong>Word Count:</strong> 1460<br>
<strong>Estimated Reading Time:</strong> 12 minute(s)</p>
<hr>
<p><img src="img/vancouver_tree.png" class="img-fluid" style="float: right; margin-left: 10px; width: 200px" alt="Tree"> If you are interested in pursuing a career in data science, Exploratory Data Analysis (EDA) is one of the most critical skills you’ll rely on in virtually every data analysis project. Think of EDA as the foundation of your analysis, it’s where you familiarize yourself with your data, uncover patterns, and set the stage for meaningful insights.</p>
<p>In this blog, let’s dive into how to implement EDA effectively using an example from a project about <a href="https://ubc-mds.github.io/vancouver-tree-height-geo-group-33/report/vancouver-tree-height-geo.html">Vancouver Tree Height Geography Analysis</a>, where we explored variations in tree heights across the city’s neighborhoods. Whether you’re analyzing trees, customer behavior, or healthcare data, the lessons from this project apply universally to all aspiring data professionals.</p>
<section id="what-is-eda-and-why-is-it-important" class="level2">
<h2 class="anchored" data-anchor-id="what-is-eda-and-why-is-it-important">What is EDA and Why is it Important?</h2>
<p>Exploratory Data Analysis (EDA) is an important step in any data science workflow. It’s where you explore and know important characteristics of your dataset. Skipping this step or performing it poorly can lead to misguided conclusions and wasted efforts.</p>
<p>Specifically, EDA can help you (but not limited to):</p>
<ul>
<li><strong>Understand Your Dataset</strong>: Learn about the size, structure, and key features of the data. You can also identify missing or duplicate values to examine the quality of dataset.</li>
<li><strong>Spot Trends and Anomalies</strong>: Identify distributions and patterns, clusters, or unexpected values outliers that may require extra attention.<br>
</li>
<li><strong>Shape Your Analysis</strong>: Discover the relationship between variables and refine your questions based on your initial analysis. Determine the most promising directions for further exploration.</li>
</ul>
<p><img src="img/EDA_epicycles.png" class="img-fluid" alt="EDA_Epicycles"><span class="citation" data-cites="the_art_of_data_science">Peng and Matsui (<a href="#ref-the_art_of_data_science" role="doc-biblioref">2017</a>)</span></p>
<p>In our Vancouver Tree Project, the EDA step allowed us to explore tree height distributions across neighborhoods and informed our approach to testing whether these variations were significant. Now, let’s explore the magic of EDA step by step!</p>
<div style="background-color:#f5f5f5; padding:10px;">
<span style="color:red; font-weight:bold;"><strong>Important Note</strong></span>: Although EDA usually is the first step in the analysis, an effective data analysis workflow is not linear and may involve consistently exploring the data at many points of your analysis path.
</div>
</section>
<section id="steps-for-effective-eda" class="level2">
<h2 class="anchored" data-anchor-id="steps-for-effective-eda">Steps for Effective EDA</h2>
<section id="start-with-a-clear-objective" class="level3">
<h3 class="anchored" data-anchor-id="start-with-a-clear-objective">1. Start with a Clear Objective</h3>
<p>Every great EDA begins with a specific question or goal, so you should firstly formulate your question. For exmaple, in our Vancouver Tree project, the research question was: <strong>Do tree heights vary significantly from neighborhood to neighborhood in Vancouver?</strong> This focus ensured our analysis was targeted and all the findings should be relevant.</p>
<div style="background-color:#f5f5f5; padding:10px;">
<span style="color:red; font-weight:bold;"><strong>Important Note</strong></span>: Define your objective early and use it as a guide throughout the EDA process. This prevents you from getting sidetracked by unrelated patterns.
</div>
</section>
<section id="load-and-read-your-data" class="level3">
<h3 class="anchored" data-anchor-id="load-and-read-your-data">2. Load and Read Your Data</h3>
<p>Before analyzing anything, start by understanding the structure and quality of the dataset, so that we can gain an overview of the data and identify the columns of interest.</p>
<p>Here’s what we did for our project:</p>
<ul>
<li><strong>Load and Preview the Dataset</strong>: Use simple commands like <code>head()</code> in R to get a quick snapshot of the data. For our project, we observed that the dataset included various properties of each tree in Vancouver, such as its location, category, planting information, and other characteristics.</li>
</ul>
<p>Dataset: <span class="citation" data-cites="city_vancouver_trees">City of Vancouver Open Data Portal (<a href="#ref-city_vancouver_trees" role="doc-biblioref">2022</a>)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>tree_data <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="st">"street-trees.csv"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>tree_data <span class="sc">|&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>() <span class="sc">|&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 3%">
<col style="width: 17%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">TREE_ID</th>
<th style="text-align: right;">CIVIC_NUMBER</th>
<th style="text-align: left;">STD_STREET</th>
<th style="text-align: left;">GENUS_NAME</th>
<th style="text-align: left;">SPECIES_NAME</th>
<th style="text-align: left;">CULTIVAR_NAME</th>
<th style="text-align: left;">COMMON_NAME</th>
<th style="text-align: left;">ASSIGNED</th>
<th style="text-align: left;">ROOT_BARRIER</th>
<th style="text-align: left;">PLANT_AREA</th>
<th style="text-align: right;">ON_STREET_BLOCK</th>
<th style="text-align: left;">ON_STREET</th>
<th style="text-align: left;">NEIGHBOURHOOD_NAME</th>
<th style="text-align: left;">STREET_SIDE_NAME</th>
<th style="text-align: right;">HEIGHT_RANGE_ID</th>
<th style="text-align: left;">HEIGHT_RANGE</th>
<th style="text-align: left;">DIAMETER</th>
<th style="text-align: left;">CURB</th>
<th style="text-align: left;">DATE_PLANTED</th>
<th style="text-align: left;">Geom</th>
<th style="text-align: left;">geo_point_2d</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">89177</td>
<td style="text-align: right;">8538</td>
<td style="text-align: left;">FRENCH ST</td>
<td style="text-align: left;">ZELKOVA</td>
<td style="text-align: left;">SERRATA</td>
<td style="text-align: left;">VILLAGE GREEN</td>
<td style="text-align: left;">VILLAGE GREEN ZELKOVA</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">Y</td>
<td style="text-align: left;">7</td>
<td style="text-align: right;">8500</td>
<td style="text-align: left;">FRENCH ST</td>
<td style="text-align: left;">MARPOLE</td>
<td style="text-align: left;">EVEN</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">20’ - 30’</td>
<td style="text-align: left;">10.0</td>
<td style="text-align: left;">Y</td>
<td style="text-align: left;">2008-02-06</td>
<td style="text-align: left;">{“coordinates”: [-123.139089, 49.209211], “type”: “Point”}</td>
<td style="text-align: left;">49.209211, -123.139089</td>
</tr>
<tr class="even">
<td style="text-align: right;">89178</td>
<td style="text-align: right;">3439</td>
<td style="text-align: left;">W 27TH AV</td>
<td style="text-align: left;">ACER</td>
<td style="text-align: left;">PLATANOIDES</td>
<td style="text-align: left;">PRINCETON GOLD</td>
<td style="text-align: left;">PRINCETON GOLD MAPLE</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">12</td>
<td style="text-align: right;">3400</td>
<td style="text-align: left;">W 27TH AV</td>
<td style="text-align: left;">DUNBAR-SOUTHLANDS</td>
<td style="text-align: left;">ODD</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">20’ - 30’</td>
<td style="text-align: left;">11.0</td>
<td style="text-align: left;">Y</td>
<td style="text-align: left;">2008-02-08</td>
<td style="text-align: left;">{“coordinates”: [-123.18093, 49.24811], “type”: “Point”}</td>
<td style="text-align: left;">49.24811, -123.18093</td>
</tr>
<tr class="odd">
<td style="text-align: right;">89180</td>
<td style="text-align: right;">1732</td>
<td style="text-align: left;">KITCHENER ST</td>
<td style="text-align: left;">MALUS</td>
<td style="text-align: left;">ZUMI</td>
<td style="text-align: left;">CALOCARPA</td>
<td style="text-align: left;">REDBUD CRABAPPLE</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">6</td>
<td style="text-align: right;">1700</td>
<td style="text-align: left;">KITCHENER ST</td>
<td style="text-align: left;">GRANDVIEW-WOODLAND</td>
<td style="text-align: left;">EVEN</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">20’ - 30’</td>
<td style="text-align: left;">9.0</td>
<td style="text-align: left;">Y</td>
<td style="text-align: left;">1998-03-23</td>
<td style="text-align: left;">{“coordinates”: [-123.068748, 49.272083], “type”: “Point”}</td>
<td style="text-align: left;">49.272083, -123.068748</td>
</tr>
<tr class="even">
<td style="text-align: right;">89189</td>
<td style="text-align: right;">1765</td>
<td style="text-align: left;">KITCHENER ST</td>
<td style="text-align: left;">MALUS</td>
<td style="text-align: left;">ZUMI</td>
<td style="text-align: left;">CALOCARPA</td>
<td style="text-align: left;">REDBUD CRABAPPLE</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">6</td>
<td style="text-align: right;">1700</td>
<td style="text-align: left;">KITCHENER ST</td>
<td style="text-align: left;">GRANDVIEW-WOODLAND</td>
<td style="text-align: left;">ODD</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">20’ - 30’</td>
<td style="text-align: left;">5.25</td>
<td style="text-align: left;">Y</td>
<td style="text-align: left;">1998-03-24</td>
<td style="text-align: left;">{“coordinates”: [-123.068088, 49.272172], “type”: “Point”}</td>
<td style="text-align: left;">49.272172, -123.068088</td>
</tr>
<tr class="odd">
<td style="text-align: right;">89190</td>
<td style="text-align: right;">1768</td>
<td style="text-align: left;">KITCHENER ST</td>
<td style="text-align: left;">ACER</td>
<td style="text-align: left;">PSEUDOPLATANUS</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">SYCAMORE MAPLE</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">6</td>
<td style="text-align: right;">1700</td>
<td style="text-align: left;">KITCHENER ST</td>
<td style="text-align: left;">GRANDVIEW-WOODLAND</td>
<td style="text-align: left;">EVEN</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">40’ - 50’</td>
<td style="text-align: left;">12.0</td>
<td style="text-align: left;">Y</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">{“coordinates”: [-123.068009, 49.272078], “type”: “Point”}</td>
<td style="text-align: left;">49.272078, -123.068009</td>
</tr>
<tr class="even">
<td style="text-align: right;">89198</td>
<td style="text-align: right;">1814</td>
<td style="text-align: left;">KITCHENER ST</td>
<td style="text-align: left;">ACER</td>
<td style="text-align: left;">PSEUDOPLATANUS</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">SYCAMORE MAPLE</td>
<td style="text-align: left;">Y</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">6</td>
<td style="text-align: right;">1800</td>
<td style="text-align: left;">KITCHENER ST</td>
<td style="text-align: left;">GRANDVIEW-WOODLAND</td>
<td style="text-align: left;">EVEN</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">40’ - 50’</td>
<td style="text-align: left;">11.0</td>
<td style="text-align: left;">Y</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">{“coordinates”: [-123.065987, 49.272061], “type”: “Point”}</td>
<td style="text-align: left;">49.272061, -123.065987</td>
</tr>
</tbody>
</table>
</div>
</div>
<ul>
<li><strong>Check Data Structure</strong>: We should take a look at the size of the dataset, and also the variable types using command <code>str()</code> in R. For simplicity, we are going to only focus on the 4 columns that highly related to our research questions, which are <code>TREE_ID</code>, <code>NEIGHBOURHOOD_NAME</code>, <code>HEIGHT_RANGE_ID</code>, and <code>HEIGHT_RANGE</code>. And since there is a one-to-one correspondence between levels of <code>HEIGHT_RANGE</code> and <code>HEIGHT_RANGE_ID</code>. we can confidently use <code>HEIGHT_RANGE_ID</code> as a numeric representation for further analysis, ensuring consistency and simplicity in our approach.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>tree_data <span class="ot">&lt;-</span> tree_data <span class="sc">|&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(TREE_ID, NEIGHBOURHOOD_NAME, HEIGHT_RANGE_ID, HEIGHT_RANGE)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(tree_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [184,125 × 4] (S3: tbl_df/tbl/data.frame)
 $ TREE_ID           : num [1:184125] 89177 89178 89180 89189 89190 ...
 $ NEIGHBOURHOOD_NAME: chr [1:184125] "MARPOLE" "DUNBAR-SOUTHLANDS" "GRANDVIEW-WOODLAND" "GRANDVIEW-WOODLAND" ...
 $ HEIGHT_RANGE_ID   : num [1:184125] 2 2 2 2 4 4 5 4 5 4 ...
 $ HEIGHT_RANGE      : chr [1:184125] "20' - 30'" "20' - 30'" "20' - 30'" "20' - 30'" ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>correspondence_table <span class="ot">&lt;-</span> tree_data <span class="sc">|&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(HEIGHT_RANGE, HEIGHT_RANGE_ID) <span class="sc">|&gt;</span>  </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">distinct</span>() <span class="sc">|&gt;</span>                            </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(HEIGHT_RANGE_ID)             </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(correspondence_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">HEIGHT_RANGE</th>
<th style="text-align: right;">HEIGHT_RANGE_ID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0’ - 10’</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">10’ - 20’</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">20’ - 30’</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">30’ - 40’</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">40’ - 50’</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">50’ - 60’</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">60’ - 70’</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">70’ - 80’</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">80’ - 90’</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">90’ - 100’</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">&gt; 100’</td>
<td style="text-align: right;">10</td>
</tr>
</tbody>
</table>
</div>
</div>
<ul>
<li><strong>Identify Missing or Duplicate Values</strong>: To ensure data quality, we checked for gaps or duplicates that might require attention. Specifically, we examined the <code>TREE_ID</code> column, as it serves as the unique identifier for each tree. Based on our analysis, the dataset is relatively tidy, with no missing or duplicate records detected.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(tree_data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           TREE_ID NEIGHBOURHOOD_NAME    HEIGHT_RANGE_ID       HEIGHT_RANGE 
                 0                  0                  0                  0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">duplicated</span>(tree_data<span class="sc">$</span>TREE_ID))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<div style="background-color:#f5f5f5; padding:10px;">
<span style="color:red; font-weight:bold;"><strong>Important Note</strong></span>: In the real world, many datasets are far from tidy, unlike our <code>tree_data</code>. Dirty data can easily distort analysis and lead to misleading conclusions, undermining the validity of your findings. While data cleaning might not be the most exciting part of the process, it is absolutely essential. Investing time in thoroughly cleaning your dataset ensures that your analysis is both accurate and reliable, providing a strong foundation for meaningful insights.
</div>
</section>
<section id="use-visualizations-to-uncover-trends-and-anomalies" class="level3">
<h3 class="anchored" data-anchor-id="use-visualizations-to-uncover-trends-and-anomalies">3. Use Visualizations to Uncover Trends and Anomalies</h3>
<p>Visualization is a powerful tool in EDA, enabling you to uncover trends, anomalies, and relationships that may not be apparent in raw data. The choice of plot depends on the characteristics of your dataset. For example, bar plots are excellent for visualizing the counts of categorical variables, while boxplots or violin plots effectively display the distribution of continuous variables. For more advanced analysis, scatter plot matrices (or pair plots) can help you explore pairwise relationships between multiple variables, providing deeper insights into potential correlations and patterns.</p>
<p>Specifically for our project, we used:</p>
<ul>
<li><strong>Bar Charts</strong>: To explore the count of tree height distributions and identify potential outliers, we observed that trees in the height range of 0–10 ft are very few. This anomaly may be due to these trees being recently planted, and thus not representative of mature trees in the dataset. To ensure more accurate analysis and meaningful insights, it may be prudent to exclude trees in this height range from further analysis.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><strong>Heatmaps</strong>: Heatmaps are a powerful way to visualize spatial variations in tree height across Vancouver’s neighborhoods. From the heatmap, we observed that the most common tree height range in most neighborhoods falls between 1 and 3 units. On the other hand, taller trees (height ranges 6-10 units) are scarce and, in many cases, entirely absent, highlighting potential disparities in tree growth or planting strategies across the city.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><strong>Advanced Mapping</strong>: To enhance the visual appeal and provide deeper insights, we mapped both the average tree heights and tree counts across Vancouver neighborhoods using the Vancouver map dataset (<span class="citation" data-cites="van_local_area_boundary">City of Vancouver Open Data Portal (<a href="#ref-van_local_area_boundary" role="doc-biblioref">2023</a>)</span>). These advanced visualizations offer a clear geographic perspective, revealing notable differences in both tree heights and counts across neighborhoods.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-7-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="draw-initial-conclusions-and-prove-them" class="level3">
<h3 class="anchored" data-anchor-id="draw-initial-conclusions-and-prove-them">4. Draw Initial Conclusions and Prove Them</h3>
<p>Every observation can spark new questions and guide deeper analysis, so we may need multiple plots to draw more reliable conclusions from EDA. However, while visually identifiable patterns provide valuable insights, validating these observations statistically is essential. In our case, although tree height patterns across neighborhoods were apparent, determining whether these differences were statistically significant required an appropriate hypothesis test. In the real world, this step ensures that decisions and strategies are based on sound evidence, minimizing the risk of misinterpretation or bias.</p>
<div style="background-color:#F0FFFF; padding:10px;">
<span style="color: #4682B4;"><strong>Tip</strong>: Stay curious and let your findings inspire further exploration, but always ground your conclusions in evidence and stay aligned with your original objectives.</span>
</div>
</section>
<section id="acknowledge-limitations" class="level3">
<h3 class="anchored" data-anchor-id="acknowledge-limitations">5. Acknowledge Limitations</h3>
<p>No dataset is perfect, and it is important to recognize the limitations of your analysis to ensure your audience interprets the findings accurately and understands the context.</p>
<p>For our project, key limitations included:</p>
<ul>
<li><strong>Categorical Data</strong>: Tree heights were grouped into ranges (e.g., 10–20 ft), which reduced precision and prevented analysis of specific height variations within these ranges.</li>
<li><strong>Sampling Bias</strong>: The dataset only included trees recorded by the City of Vancouver, potentially excluding trees in private properties or unregistered areas, leading to incomplete coverage.</li>
</ul>
<div style="background-color:#f5f5f5; padding:10px;">
<span style="color:red; font-weight:bold;"><strong>Important Note</strong></span>: Acknowledging limitations not only builds trust with your audience but also encourages more informed decision-making.
</div>
</section>
</section>
<section id="key-challenges-and-solutions-in-eda" class="level2">
<h2 class="anchored" data-anchor-id="key-challenges-and-solutions-in-eda">Key Challenges and Solutions in EDA</h2>
<p>To summarize, based on the steps we implemented in our Vancouver tree project, here are the key challenges and how to address them:</p>
<section id="challenge-1-missing-data" class="level4">
<h4 class="anchored" data-anchor-id="challenge-1-missing-data">Challenge 1: Missing Data</h4>
<p><strong>Problem</strong>: Missing values can skew results or lead to biased conclusions if not addressed properly.<br>
<strong>Solution</strong>: Employ strategies like imputation, exclusion, or sensitivity analysis tailored to the context of your data and research goals. Always document how missing data was handled to ensure transparency.</p>
</section>
<section id="challenge-2-overinterpretation" class="level4">
<h4 class="anchored" data-anchor-id="challenge-2-overinterpretation">Challenge 2: Overinterpretation</h4>
<p><strong>Problem</strong>: Patterns observed during EDA may appear significant but could be random or misleading.<br>
<strong>Solution</strong>: Approach EDA as an exploratory phase and validate insights with rigorous statistical methods or input from domain experts to avoid overinterpretation.</p>
</section>
<section id="challenge-3-staying-focused" class="level4">
<h4 class="anchored" data-anchor-id="challenge-3-staying-focused">Challenge 3: Staying Focused</h4>
<p><strong>Problem</strong>: The exploratory nature of EDA can lead to distraction by irrelevant but interesting patterns.<br>
<strong>Solution</strong>: Continuously align your analysis with the primary research question or objective. Use a clear roadmap or checklist to stay on track without disregarding potential future avenues of exploration.</p>
</section>
</section>
<section id="at-the-end-eda-is-the-foundation-for-successful-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="at-the-end-eda-is-the-foundation-for-successful-data-analysis">At the End: EDA is the Foundation for Successful Data Analysis</h2>
<p>Exploratory Data Analysis (EDA) forms the foundation for everything that follows in a data science workflow. Whether analyzing tree data in Vancouver or studying customer behaviors in e-commerce, EDA equips you with the tools to understand your data, refine your questions, and make informed decisions.</p>
<p>For aspiring data scientists/analysts, mastering the EDA process is an essential first step. A strong EDA approach ensures your projects are grounded in clarity and insight, setting the stage for success in every analysis. Let the story of Vancouver’s trees inspire you to uncover patterns and dive deeper into your own datasets!</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-city_vancouver_trees" class="csl-entry" role="listitem">
City of Vancouver Open Data Portal. 2022. <span>“Street Trees Dataset.”</span> <a href="https://opendata.vancouver.ca/explore/dataset/street-trees/information/">https://opendata.vancouver.ca/explore/dataset/street-trees/information/</a>.
</div>
<div id="ref-van_local_area_boundary" class="csl-entry" role="listitem">
———. 2023. <span>“Local Area Boundary Dataset.”</span> <a href="https://opendata.vancouver.ca/explore/dataset/local-area-boundary/information/">https://opendata.vancouver.ca/explore/dataset/local-area-boundary/information/</a>.
</div>
<div id="ref-the_art_of_data_science" class="csl-entry" role="listitem">
Peng, Roger D., and Elizabeth Matsui. 2017. <em>The Art of Data Science</em>. <a href="https://leanpub.com/artofdatascience">https://leanpub.com/artofdatascience</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>